(self.webpackChunklite=self.webpackChunklite||[]).push([[3342],{38125:(e,n,t)=>{var i=t(14259);e.exports=function(e){return null!=e&&e.length?i(e,0,-1):[]}},68254:e=>{"use strict";var n=Math.floor(1099511627776*Math.random()).toString(16),t=new RegExp('"@__(F|R|D|M|S|U)-'+n+'-(\\d+)__@"',"g"),i=/\{\s*\[native code\]\s*\}/g,o=/function.*?\(/,r=/.*?=>.*?/,l=/[<>\/\u2028\u2029]/g,a=["*","async"],c={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\u2028":"\\u2028","\u2029":"\\u2029"};function u(e){return c[e]}e.exports=function e(c,d){d||(d={}),"number"!=typeof d&&"string"!=typeof d||(d={space:d});var s,f=[],m=[],p=[],v=[],g=[],k=[];return d.ignoreFunction&&"function"==typeof c&&(c=void 0),void 0===c?String(c):(s=d.isJSON&&!d.space?JSON.stringify(c):JSON.stringify(c,d.isJSON?null:function(e,t){if(d.ignoreFunction&&function(e){var n=[];for(var t in e)"function"==typeof e[t]&&n.push(t);for(var i=0;i<n.length;i++)delete e[n[i]]}(t),!t&&void 0!==t)return t;var i=this[e],o=typeof i;if("object"===o){if(i instanceof RegExp)return"@__R-"+n+"-"+(m.push(i)-1)+"__@";if(i instanceof Date)return"@__D-"+n+"-"+(p.push(i)-1)+"__@";if(i instanceof Map)return"@__M-"+n+"-"+(v.push(i)-1)+"__@";if(i instanceof Set)return"@__S-"+n+"-"+(g.push(i)-1)+"__@"}return"function"===o?"@__F-"+n+"-"+(f.push(i)-1)+"__@":"undefined"===o?"@__U-"+n+"-"+(k.push(i)-1)+"__@":t},d.space),"string"!=typeof s?String(s):(!0!==d.unsafe&&(s=s.replace(l,u)),0===f.length&&0===m.length&&0===p.length&&0===v.length&&0===g.length&&0===k.length?s:s.replace(t,(function(n,t,l){return"D"===t?'new Date("'+p[l].toISOString()+'")':"R"===t?"new RegExp("+e(m[l].source)+', "'+m[l].flags+'")':"M"===t?"new Map("+e(Array.from(v[l].entries()),d)+")":"S"===t?"new Set("+e(Array.from(g[l].values()),d)+")":"U"===t?"undefined":function(e){var n=e.toString();if(i.test(n))throw new TypeError("Serializing native function: "+e.name);if(o.test(n))return n;if(r.test(n))return n;var t=n.indexOf("("),l=n.substr(0,t).trim().split(" ").filter((function(e){return e.length>0}));return l.filter((function(e){return-1===a.indexOf(e)})).length>0?(l.indexOf("async")>-1?"async ":"")+"function"+(l.join("").indexOf("*")>-1?"*":"")+n.substr(t):n}(f[l])}))))}},25011:(e,n,t)=>{"use strict";t.d(n,{p:()=>d});var i=t(22122),o=t(67294),r=t(77355),l=t(14646),a=t(93513),c=function(e){var n=(0,i.Z)({},e);return o.createElement(r.x,(0,i.Z)({display:"flex",flexBasis:"0",flexGrow:"1",flexShrink:"1",justifyContent:"center",alignItems:"center"},n))},u=function(e){return function(n){return{width:"100%",justifyContent:"stretch",display:"flex",backgroundColor:n.backgroundColor,alignItems:"center",height:"".concat(a.y,"px"),borderTop:"solid 1px ".concat(n.colorTokens.border.neutral.primary.base),opacity:e?1:0,visibility:e?"visibile":"hidden"}}},d=(0,o.memo)((function(e){var n=e.multiVoteButton,t=e.responsesButton,i=e.saveButton,r=e.isVisible,a=void 0===r||r,d=(0,l.I)();return o.createElement("div",{className:d(u(a))},o.createElement(c,null,n),o.createElement(c,null,t),i&&o.createElement(c,null,i))}))},40806:(e,n,t)=>{"use strict";t.d(n,{o:()=>u});var i=t(34699),o=t(67294),r=t(6280),l=t(14646),a=t(77241),c=function(e,n){return{position:"sticky",zIndex:n?a.ZP.metabarProgress:a.ZP.selectionMenu,bottom:"0","> *":{transform:"translateY(".concat(e,"px)")}}},u=function(e){var n=e.children,t=e.maxHeightToHideOnScroll,a=e.isUpsellVisible,u=(0,l.I)(),d=(0,o.useRef)(),s=(0,o.useState)(0),f=(0,i.Z)(s,2),m=f[0],p=f[1],v=(0,o.useCallback)((function(e){p((function(n){return Math.max(Math.min(n+e,t),0)}))}),[t]),g=(0,o.useCallback)((function(){var e,n=null===(e=h.current)||void 0===e?void 0:e.getBoundingClientRect().y;window.scrollY>0&&d.current&&n&&v(d.current-n),d.current=n}),[v]),k=t>0,y=(0,r.$)(k,g),S=y.dockRef,h=y.markerRef,w=y.isStuck;return o.createElement(o.Fragment,null,o.createElement("div",{ref:h}),o.createElement("div",{ref:S,className:u(c(m,a))},"function"==typeof n?n({isStuck:w}):n))}},93513:(e,n,t)=>{"use strict";t.d(n,{T:()=>i,y:()=>o});var i=52,o=48},6280:(e,n,t)=>{"use strict";t.d(n,{$:()=>l});var i=t(34699),o=t(67294),r=t(34135),l=function(e,n){var t=(0,o.useRef)(null),l=(0,o.useRef)(null),a=(0,o.useState)(!0),c=(0,i.Z)(a,2),u=c[0],d=c[1];return(0,o.useEffect)((function(){var i=function(){var e,i,o=null===(e=t.current)||void 0===e?void 0:e.getBoundingClientRect().y,r=null===(i=l.current)||void 0===i?void 0:i.getBoundingClientRect().y;o&&r&&d(Boolean(r-o)),null==n||n()};if(i(),e)return r.V6.on("scroll",i),function(){r.V6.off("scroll",i)}}),[e]),{isStuck:e&&u,dockRef:t,markerRef:l}}},19308:(e,n,t)=>{"use strict";t.d(n,{b:()=>l,I:()=>a});var i=t(87329),o=t(68216),r=t(98007),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionFollowButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]},a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionFollowButton_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_collection"}}]}}].concat((0,i.Z)(o.nf.definitions),(0,i.Z)(r.Os.definitions))}},82405:(e,n,t)=>{"use strict";t.d(n,{F:()=>_});var i=t(34699),o=t(21919),r=t(67294),l=t(51615),a=t(77520),c=t(20297),u=t(25550),d=t(25267),s=t(39727),f=t(26350),m=t(50563),p=t(93310),v=t(77355),g=t(47230),k=t(18627),y=t(66411),S=t(92661),h=t(43487),w=t(50458),_=function(e){var n,t=e.buttonSize,w=e.buttonStyleFn,_=e.collection,C=e.post,E=e.simpleLink,N=e.susiEntry,F=void 0===N?"follow_card":N,O=e.preventParentClick,D=e.width,x=(0,h.v9)((function(e){return e.config.authDomain})),P=(0,u.r)().viewerId,R=(0,k.A)(),I=(0,y.pK)(),j=(0,l.TH)(),B=(0,S.$B)(j.pathname),T=null==B||null===(n=B.route)||void 0===n?void 0:n.name,U=(0,s.g)(_),M=U.viewerEdge,W=U.loading,Z=function(e,n){var t=(0,o.D)(c.e),l=(0,i.Z)(t,1)[0];return r.useCallback((function(){return l({variables:{id:e.id},optimisticResponse:{followCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!0}}},update:function(t){t.modify({id:"User:".concat(n),fields:{missionControl:(0,m.im)("followedCollections",!0),followingCollectionConnection:(0,m.Hc)(e.id)}})}})}),[e.id])}(_,P),z=function(e,n){var t=(0,o.D)(c.X),l=(0,i.Z)(t,1)[0];return r.useCallback((function(){return l({variables:{id:e.id},optimisticResponse:{unfollowCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!1}}},update:function(e){e.modify({id:"User:".concat(n),fields:{missionControl:(0,m.im)("followedCollections",!1)}})}})}),[e.id])}(_,P),H=r.useCallback((function(e){O&&e.preventDefault(),R.event("collection.followed",{collectionId:_.id,followSource:I}),Z()}),[_,O,I,R]),V=r.useCallback((function(e){O&&e.preventDefault(),R.event("collection.unfollowed",{collectionId:_.id,followSource:I}),z()}),[O,I,R]),A=!(null==M||!M.isFollowing),X=w?w(!!A):A?"OBVIOUS":"STRONG";return E?r.createElement(p.r,{onClick:A?V:H},r.createElement(v.x,{display:"flex",flexDirection:"row"},A?"Unfollow publication":"Follow publication")):r.createElement(d.I,null,(function(e){return e?r.createElement(g.zx,{size:t,onClick:A?V:H,buttonStyle:X,loading:W,width:D},A?"Following":"Follow"):r.createElement(f.R,{collection:_,buttonStyle:X,isButton:!0,buttonSize:t,operation:"register",actionUrl:b(x,_,C)||"",susiEntry:F,pageSource:(0,a.x)(T,"register"),buttonWidth:D},A?"Following":"Follow")}))},b=function(e,n,t){return n.slug&&(t&&t.id?(0,w.TA)(e,n.slug,t.id):(0,w.Ll)(e,n.slug))}},20512:(e,n,t)=>{"use strict";t.d(n,{Y4:()=>l,NJ:()=>a,lc:()=>c});var i=t(96156),o=t(46696);function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function l(e){var n=e.miroId,t=e.originalWidth,i=e.originalHeight,r=e.focusPercentX,l=e.focusPercentY,a=e.croppedWidth;if(!n)return null;var c=(0,o.vz)({miroId:n,aspectRatio:16/9,croppedWidth:a,originalWidth:t,originalHeight:i,focusPercentX:r,focusPercentY:l}),u=(0,o.vz)({miroId:n,aspectRatio:4/3,croppedWidth:a,originalWidth:t,originalHeight:i,focusPercentX:r,focusPercentY:l}),d=(0,o.vz)({miroId:n,aspectRatio:1,croppedWidth:a,originalWidth:t,originalHeight:i,focusPercentX:r,focusPercentY:l}),s=new Set([c,u,d]);return Array.from(s)}function a(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({"@type":"ImageObject"},e)}function c(e){var n=e.id,t=e.originalWidth,i=e.originalHeight;if(!n||!t||!i)return null;var r=Math.min(i,60),l=r/i,c=Math.floor(t*l);return a({width:c,height:r,url:(0,o.W6)({miroId:n,width:c,freezeGifs:!0,strategy:o._S.Resample})})}},55193:(e,n,t)=>{"use strict";t.d(n,{v:()=>i,Q:()=>o});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SuspendedBannerLoader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isSuspended"}}]}}]},o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SuspendedBannerLoader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isSuspended"}}]}}]}},66018:(e,n,t)=>{"use strict";t.d(n,{L:()=>a});var i=t(67294),o=t(86706),r=t(25735),l=t(78285),a=function(e){var n=e.user,t=e.post,a=e.forceLoad,c=void 0!==a&&a,u=(0,o.I0)(),d=(0,r.V)({name:"can_view_suspended_content",placeholder:!1})||c;return i.useEffect((function(){d&&(n&&n.isSuspended?u((0,l.Dx)({duration:"NEXTPAGE",toastStyle:"USER_SUSPENDED"})):t&&t.isSuspended&&u((0,l.Dx)({duration:"NEXTPAGE",toastStyle:"POST_SUSPENDED"})))}),[d]),null}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/3342.bcc96116.chunk.js.map